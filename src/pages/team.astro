---
import Layout from "../components/Layout.astro";
import HeroImg from "../components/Hero_img.astro";
import TeamCard from "../components/TeamCard.astro";
import Button from "../components/Button.astro";

const teamData = await fetch(
  "https://raw.githubusercontent.com/juleskj/frontend-design/main/resources/json/employees.json"
).then((res) => res.json());
---

<Layout title="Team">
  <HeroImg tag_text="team" hero_text="the consultors" />
  <div class="text_button">
    <div class="text_box">
      <h2>meet our great team</h2>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptates
        nostrum excepturi magni aperiam reiciendis nam pariatur! Odio, non ab
        magnam, beatae vitae pariatur molestias nam id obcaecati, excepturi
        fuga. Voluptatum.
      </p>
    </div>
    <div class="button_div">
      <Button size="big_btn" variant="black_btn" btn_text="join our team" />
    </div>
  </div>
  <div id="card_container">
    {
      teamData.map((employe) => {
        return <TeamCard teamData={employe} />;
      })
    }
  </div>
</Layout>

<style>
  .text_button {
    display: flex;
    flex-flow: wrap row;
    justify-content: space-between;

    gap: 1rem;
    & .text_box {
      flex: 1 1 auto;
      word-break: pretty;
      max-width: 65ch;
      & :not(p) {
        text-transform: capitalize;
      }
    }

    & .button_div {
      align-self: flex-end;
    }
  }

  .team_card {
    flex: 1 1 250px;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  .img_w_tag {
    display: grid;
    grid-auto-rows: auto;

    & img {
      aspect-ratio: 1;
      object-fit: cover;
      grid-area: 1 /1 / span 2 / span 2;
      border-radius: var(--small-border-radius);
    }

    & .tag {
      display: grid;
      place-content: center;
      grid-column: 2/3;
      grid-row: 2/3;
      margin: 1rem;
    }
  }
  .info_box {
    text-align: center;

    & h6 {
      text-transform: capitalize;
    }

    & p {
      padding: var(--big-padding);
    }
    & .some {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
    }
  }
</style>
